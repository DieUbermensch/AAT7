%& C:\Users\MIKKEL~1\AppData\Roaming\TikzEdt\TikzEdt\021~1.0\TEMP_H~1
\begin{document}
\begin{tikzpicture}
\draw  (-4,1.5) rectangle node {$z^{-i}$} (-5,0.5);
\draw (-4.5,0) node[above]{$ADC$} ;

\draw  (-3,2) rectangle  node[align=center] {Predictor} (-1,0) ;

\draw  (0.5,2) rectangle node[text width=1.5cm,align=center] {ANC System}(2.5,-1);
\draw  (4.1,1.5) rectangle node {$z^{-i}$}(5.1,0.5);
\draw (4.6,0) node[above]{$DAC$} ;

\draw [->](-4,1)  -- (-3,1);


\draw [->](-1,1)  -- node[above]{$\hat{x}[n+p]$}  (0.5,1);
\draw [->](2.5,1) -- node[above]{$y[n+p]$} (4.1,1);

\draw [->](-6,1) node[above]{$x[n+\frac{p}{2}]$} -- (-5,1);
\draw (-6,1.5) node[above]{$x(t)$} ;
\draw [->](5.1,1)-- (5.9,1) node[above]{$y[n+\frac{p}{2}]$} ;
\draw [->](-3.5,1) node[above]{$x[n]$} -- (-3.5,-0.5) -- (0.5,-0.5);
\draw (5.9,1.5) node[above]{$y(t)$} ;

\usetikzlibrary{calc}
\pgftransformreset
\node[inner sep=0pt,outer sep=0pt,minimum size=0pt,line width=0pt,text width=0pt,text height=0pt] at (current bounding box) {};
%add border to avoid cropping by pdflibnet
\foreach \border in {0.1}
  \useasboundingbox (current bounding box.south west)+(-\border,-\border) rectangle (current bounding box.north east)+(\border,\border);
\newwrite\metadatafile
\immediate\openout\metadatafile=\jobname_BB.txt
\path
  let
    \p1=(current bounding box.south west),
    \p2=(current bounding box.north east)
  in
  node[inner sep=0pt,outer sep=0pt,minimum size=0pt,line width=0pt,text width=0pt,text height=0pt,draw=white] at (current bounding box) {
\immediate\write\metadatafile{\p1,\p2}
};
\immediate\closeout\metadatafile
\end{tikzpicture}

\end{document}
